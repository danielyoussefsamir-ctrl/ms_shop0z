<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 50%, #16213e 100%);
    color: #e0e0e0;
    min-height: 100vh;
    padding: 40px 20px;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    border: 1px solid rgba(100,200,255,0.2);
  }

  h1 {
    color: #667eea;
    margin-bottom: 30px;
    text-align: center;
    font-size: 32px;
  }

  .info-box {
    background: rgba(102, 126, 234, 0.1);
    border: 1px solid rgba(102, 126, 234, 0.3);
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 30px;
  }

  .info-box p {
    margin-bottom: 10px;
    font-size: 16px;
  }

  .info-box strong {
    color: #667eea;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }

  th, td {
    padding: 15px;
    text-align: right;
    border-bottom: 1px solid rgba(100,200,255,0.2);
  }

  th {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    font-weight: bold;
  }

  tr:hover {
    background: rgba(102, 126, 234, 0.1);
  }

  .no-accounts {
    text-align: center;
    padding: 40px;
    color: #b0b0b0;
    font-size: 18px;
  }

  .btn {
    display: inline-block;
    padding: 12px 30px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    text-decoration: none;
    border-radius: 8px;
    margin-top: 20px;
    transition: all 0.3s;
    font-weight: bold;
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  .actions {
    text-align: center;
    margin-top: 30px;
  }

  .password-screen {
    max-width: 400px;
    margin: 100px auto;
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    border: 1px solid rgba(100,200,255,0.2);
  }

  .password-screen h2 {
    text-align: center;
    color: #667eea;
    margin-bottom: 30px;
    font-size: 28px;
  }

  .password-screen input {
    width: 100%;
    padding: 12px;
    margin-bottom: 20px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(100,200,255,0.2);
    border-radius: 8px;
    color: #e0e0e0;
    font-size: 16px;
  }

  .password-screen button {
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border: none;
    border-radius: 8px;
    color: #fff;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .password-screen button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  .hidden {
    display: none;
  }
</style>
</head>
<body>

<!-- Password Protection Screen -->
<div class="password-screen" id="password-screen">
  <h2>ğŸ” ØµÙØ­Ø© Ù…Ø­Ù…ÙŠØ©</h2>
  <input type="password" id="password-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
  <button onclick="checkPassword()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div class="container hidden" id="main-content">
  <h1>ğŸ” Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø© ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>

  <div class="info-box" id="info"></div>

  <div id="accounts-container"></div>

  <div class="actions">
    <a href="admin.html" class="btn">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
  </div>
</div>

<script>
// ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØµÙØ­Ø©
const ACCESS_PASSWORD = 'go2light'; // ØºÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‡Ù†Ø§

function checkPassword() {
  const input = document.getElementById('password-input').value;
  
  if (input === ACCESS_PASSWORD) {
    document.getElementById('password-screen').classList.add('hidden');
    document.getElementById('main-content').classList.remove('hidden');
    sessionStorage.setItem('accounts_access', 'true');
    loadAndDisplayAccounts();
  } else {
    alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
    document.getElementById('password-input').value = '';
  }
}

// Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
document.addEventListener('DOMContentLoaded', function() {
  const passwordInput = document.getElementById('password-input');
  if (passwordInput) {
    passwordInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        checkPassword();
      }
    });
  }
  
  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø¬Ù„Ø³Ø©
  if (sessionStorage.getItem('accounts_access') === 'true') {
    document.getElementById('password-screen').classList.add('hidden');
    document.getElementById('main-content').classList.remove('hidden');
    loadAndDisplayAccounts();
  }
});

function loadAndDisplayAccounts() {
  const users = JSON.parse(localStorage.getItem('admin_users')) || [];
  const infoDiv = document.getElementById('info');
  const container = document.getElementById('accounts-container');

  // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø­ØµØ§Ø¦ÙŠØ©
  infoDiv.innerHTML = `
    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©:</strong> ${users.length}</p>
    <p><strong>Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</strong> Ù…Ø¹Ø·Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
  `;

  if (users.length === 0) {
    container.innerHTML = '<div class="no-accounts">âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø³Ø¬Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
    return;
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
  let tableHTML = `
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
          <th>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th>
          <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
        </tr>
      </thead>
      <tbody>
  `;

  users.forEach((user, index) => {
    const date = user.createdAt ? new Date(user.createdAt).toLocaleString('ar-EG') : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
    tableHTML += `
      <tr>
        <td>${index + 1}</td>
        <td>${user.username}</td>
        <td>${user.password}</td>
        <td>${date}</td>
      </tr>
    `;
  });

  tableHTML += `
      </tbody>
    </table>
  `;

  container.innerHTML = tableHTML;
}
</script>

</body>
</html>
