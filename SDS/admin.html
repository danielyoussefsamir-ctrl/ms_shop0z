<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 50%, #16213e 100%);
    color: #e0e0e0;
    min-height: 100vh;
    padding: 20px;
  }

  .login-container {
    max-width: 400px;
    margin: 100px auto;
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    border: 1px solid rgba(100,200,255,0.2);
  }

  .login-container h2 {
    text-align: center;
    color: #667eea;
    margin-bottom: 30px;
    font-size: 28px;
  }

  .login-container input {
    width: 100%;
    padding: 12px;
    margin-bottom: 20px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(100,200,255,0.2);
    border-radius: 8px;
    color: #e0e0e0;
    font-size: 16px;
  }

  .login-container button {
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border: none;
    border-radius: 8px;
    color: #fff;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .login-container button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  .admin-panel {
    display: none;
    max-width: 1200px;
    margin: 0 auto;
  }

  .header {
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 20px 30px;
    border-radius: 15px;
    margin-bottom: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid rgba(100,200,255,0.2);
  }

  .header h1 {
    color: #667eea;
    font-size: 32px;
  }

  .logout-btn {
    padding: 10px 25px;
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    border: none;
    border-radius: 8px;
    color: #fff;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .logout-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(231, 76, 60, 0.5);
  }

  .tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
  }

  .tab-btn {
    padding: 12px 30px;
    background: linear-gradient(145deg, #1e1e2e, #252538);
    border: 1px solid rgba(100,200,255,0.2);
    border-radius: 10px;
    color: #b0b0b0;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .tab-btn.active {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    border-color: transparent;
  }

  .tab-content {
    display: none;
  }

  .tab-content.active {
    display: block;
  }

  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
  }

  .product-card {
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(100,200,255,0.2);
  }

  .product-card h3 {
    color: #667eea;
    margin-bottom: 15px;
    font-size: 20px;
  }

  .product-card label {
    display: block;
    color: #b0b0b0;
    margin-bottom: 5px;
    font-size: 14px;
  }

  .product-card input {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(100,200,255,0.1);
    border-radius: 6px;
    color: #e0e0e0;
    font-size: 14px;
  }

  .product-card img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 10px;
    border: 1px solid rgba(100,200,255,0.2);
  }

  .save-all-btn {
    position: fixed;
    bottom: 30px;
    right: 30px;
    padding: 15px 40px;
    background: linear-gradient(135deg, #27ae60, #229954);
    border: none;
    border-radius: 50px;
    color: #fff;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
    transition: all 0.3s;
    z-index: 1000;
  }

  .save-all-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 35px rgba(39, 174, 96, 0.6);
  }

  .info-box {
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 20px;
    border: 1px solid rgba(100,200,255,0.2);
    color: #b0b0b0;
  }

  .add-product-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #3498db, #2980b9);
    border: none;
    border-radius: 10px;
    color: #fff;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    margin-bottom: 20px;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }

  .add-product-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(52, 152, 219, 0.5);
  }

  .delete-btn {
    width: 100%;
    padding: 10px;
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    border: none;
    border-radius: 6px;
    color: #fff;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 10px;
    transition: all 0.3s;
  }

  .delete-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(231, 76, 60, 0.5);
  }

  .order-card {
    background: linear-gradient(145deg, #1e1e2e, #252538);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(100,200,255,0.2);
    margin-bottom: 15px;
  }

  .order-card.completed {
    border-color: rgba(39, 174, 96, 0.4);
    opacity: 0.7;
  }

  .order-card.archived {
    display: none;
  }

  .order-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(100,200,255,0.1);
  }

  .order-header h3 {
    color: #667eea;
    font-size: 18px;
  }

  .order-status {
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
  }

  .order-status.pending {
    background: linear-gradient(135deg, #f39c12, #e67e22);
    color: #fff;
  }

  .order-status.completed {
    background: linear-gradient(135deg, #27ae60, #229954);
    color: #fff;
  }

  .order-info {
    margin-bottom: 15px;
    color: #b0b0b0;
  }

  .order-info p {
    margin: 5px 0;
  }

  .order-items {
    background: rgba(0,0,0,0.2);
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 15px;
  }

  .order-items p {
    margin: 5px 0;
    color: #e0e0e0;
  }

  .order-actions {
    display: flex;
    gap: 10px;
  }

  .order-actions button {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .complete-btn {
    background: linear-gradient(135deg, #27ae60, #229954);
    color: #fff;
  }

  .complete-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(39, 174, 96, 0.5);
  }

  .archive-btn {
    background: linear-gradient(135deg, #95a5a6, #7f8c8d);
    color: #fff;
  }

  .archive-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(149, 165, 166, 0.5);
  }

  .orders-filter {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
  }

  .filter-btn {
    padding: 10px 20px;
    background: linear-gradient(145deg, #1e1e2e, #252538);
    border: 1px solid rgba(100,200,255,0.2);
    border-radius: 8px;
    color: #b0b0b0;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
  }

  .filter-btn.active {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    border-color: transparent;
  }

  .orders-count {
    background: rgba(102, 126, 234, 0.2);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    text-align: center;
  }

  .orders-count span {
    font-size: 24px;
    font-weight: bold;
    color: #667eea;
  }

</style>
</head>
<body>

<!-- Login Screen -->
<div class="login-container" id="login-screen">
  <h2 id="form-title">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
  
  <!-- Login Form -->
  <div id="login-form">
    <input type="text" id="login-username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
    <input type="password" id="login-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <!-- ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
  </div>

  <!-- Signup Form -->
  <div id="signup-form" style="display: none;">
    <input type="text" id="signup-username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
    <input type="password" id="signup-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (5 Ø­Ø±ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" />
    <input type="password" id="signup-password-confirm" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
    <button onclick="signup()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
    <p style="color: #667eea; text-align: center; margin-top: 15px; cursor: pointer;" onclick="showLogin()">
      Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <strong>Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„</strong>
    </p>
  </div>
</div>

<!-- Admin Panel -->
<div class="admin-panel" id="admin-panel">
  <div class="header">
    <h1>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
    <button class="logout-btn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
  </div>

  <div class="info-box">
    <h3 style="color: #667eea; margin-bottom: 10px;">ğŸ“ ØªØ¹Ù„ÙŠÙ…Ø§Øª:</h3>
    <p>â€¢ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ±</p>
    <p>â€¢ Ø§Ø¶ØºØ· "â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯" Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ ÙÙŠ Ø£ÙŠ Ù‚Ø³Ù…</p>
    <p>â€¢ Ø§Ø¶ØºØ· "ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬" Ù„Ø­Ø°Ù Ø£ÙŠ Ù…Ù†ØªØ¬</p>
    <p>â€¢ Ø§Ø¶ØºØ· "Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª" Ù„Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</p>
    <p>â€¢ Ù„Ù„ØµÙˆØ±: Ø§Ø³ØªØ®Ø¯Ù… Ø±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© (https://...) Ø£Ùˆ Ø§Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ù…Ø«Ù„ imgur.com</p>
  </div>

  <div class="tabs">
    <button class="tab-btn active" onclick="switchTab('orders')">ğŸ“‹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
    <button class="tab-btn" onclick="switchTab('robux')">Ø±ÙˆØ¨ÙƒØ³</button>
    <button class="tab-btn" onclick="switchTab('farm')">Ù…Ø§Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</button>
    <button class="tab-btn" onclick="switchTab('heist')">Ù…Ø§Ø¨ Ø§Ù„Ø³Ø±Ù‚Ø©</button>
  </div>

  <!-- Orders Tab -->
  <div class="tab-content active" id="orders-tab">
    <div class="orders-count">
      <p style="color: #b0b0b0; margin-bottom: 10px;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>
      <span id="total-orders">0</span>
    </div>
    
    <div class="orders-filter">
      <button class="filter-btn active" onclick="filterOrders('all')">Ø§Ù„ÙƒÙ„</button>
      <button class="filter-btn" onclick="filterOrders('pending')">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</button>
      <button class="filter-btn" onclick="filterOrders('completed')">Ù…ÙƒØªÙ…Ù„Ø©</button>
      <button class="filter-btn" onclick="filterOrders('archived')">Ø§Ù„Ù…Ø¤Ø±Ø´ÙØ©</button>
    </div>
    
    <div id="orders-container"></div>
  </div>

  <!-- Robux Tab -->
  <div class="tab-content" id="robux-tab">
    <button class="add-product-btn" onclick="addNewProduct('robux')">
      â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
    </button>
    <div class="product-grid" id="robux-grid"></div>
  </div>

  <!-- Farm Map Tab -->
  <div class="tab-content" id="farm-tab">
    <button class="add-product-btn" onclick="addNewProduct('farm')">
      â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
    </button>
    <div class="product-grid" id="farm-grid"></div>
  </div>

  <!-- Heist Map Tab -->
  <div class="tab-content" id="heist-tab">
    <button class="add-product-btn" onclick="addNewProduct('heist')">
      â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
    </button>
    <div class="product-grid" id="heist-grid"></div>
  </div>

  <button class="save-all-btn" onclick="saveAll()">ğŸ’¾ Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
</div>

<script>
// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
function loadUsers() {
  const users = localStorage.getItem('admin_users');
  return users ? JSON.parse(users) : [];
}

function saveUsers(users) {
  localStorage.setItem('admin_users', JSON.stringify(users));
}

function getCurrentUser() {
  const username = localStorage.getItem('current_admin_user');
  return username;
}

// Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
function showSignup() {
  document.getElementById('form-title').textContent = 'ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯';
  document.getElementById('login-form').style.display = 'none';
  document.getElementById('signup-form').style.display = 'block';
}

// Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯Ø®ÙˆÙ„
function showLogin() {
  document.getElementById('form-title').textContent = 'ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';
  document.getElementById('login-form').style.display = 'block';
  document.getElementById('signup-form').style.display = 'none';
}

// ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ - Ù…Ø¹Ø·Ù„
function signup() {
  alert('âŒ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹Ø·Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹. ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨.');
  return;
}

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function login() {
  const username = document.getElementById('login-username').value.trim();
  const password = document.getElementById('login-password').value;

  if (!username || !password) {
    alert('âŒ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±!');
    return;
  }

  const users = loadUsers();
  const user = users.find(u => u.username === username && u.password === password);

  if (user) {
    document.getElementById('login-screen').style.display = 'none';
    document.getElementById('admin-panel').style.display = 'block';
    localStorage.setItem('current_admin_user', username);
    localStorage.setItem('admin_logged_in', 'true');
    renderAdminProducts();
    updateHeader();
  } else {
    alert('âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
  }
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡ÙŠØ¯Ø± Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function updateHeader() {
  const username = getCurrentUser();
  const headerTitle = document.querySelector('.header h1');
  if (username) {
    headerTitle.innerHTML = `âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - <span style="color: #764ba2;">${username}</span>`;
  }
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
function loadProducts() {
  const defaultRobux = [
    {name: 'ØµØ§ÙÙŠ Ø±ÙˆØ¨ÙˆÙƒØ³ 100', price: '40', img: 'https://via.placeholder.com/220x180?text=Robux+100'},
    {name: 'ØµØ§ÙÙŠ Ø±ÙˆØ¨ÙˆÙƒØ³ 200', price: '80', img: 'https://via.placeholder.com/220x180?text=Robux+200'},
    {name: 'ØµØ§ÙÙŠ Ø±ÙˆØ¨ÙˆÙƒØ³ 300', price: '120', img: 'https://via.placeholder.com/220x180?text=Robux+300'},
    {name: 'ØµØ§ÙÙŠ Ø±ÙˆØ¨ÙˆÙƒØ³ 400', price: '160', img: 'https://via.placeholder.com/220x180?text=Robux+400'},
    {name: 'ØµØ§ÙÙŠ Ø±ÙˆØ¨ÙˆÙƒØ³ 500', price: '200', img: 'https://via.placeholder.com/220x180?text=Robux+500'},
    {name: 'ØµØ§ÙÙŠ Ø±ÙˆØ¨ÙˆÙƒØ³ 1000', price: '400', img: 'https://via.placeholder.com/220x180?text=Robux+1000'},
    {name: 'ØªØ¨Ø±Ø¹ Ø±ÙˆØ¨ÙˆÙƒØ³ 100', price: '40', img: 'https://via.placeholder.com/220x180?text=Donate+100'},
    {name: 'ØªØ¨Ø±Ø¹ Ø±ÙˆØ¨ÙˆÙƒØ³ 200', price: '80', img: 'https://via.placeholder.com/220x180?text=Donate+200'},
    {name: 'ØªØ¨Ø±Ø¹ Ø±ÙˆØ¨ÙˆÙƒØ³ 300', price: '120', img: 'https://via.placeholder.com/220x180?text=Donate+300'},
    {name: 'ØªØ¨Ø±Ø¹ Ø±ÙˆØ¨ÙˆÙƒØ³ 400', price: '160', img: 'https://via.placeholder.com/220x180?text=Donate+400'},
    {name: 'ØªØ¨Ø±Ø¹ Ø±ÙˆØ¨ÙˆÙƒØ³ 500', price: '200', img: 'https://via.placeholder.com/220x180?text=Donate+500'},
    {name: 'ØªØ¨Ø±Ø¹ Ø±ÙˆØ¨ÙˆÙƒØ³ 1000', price: '400', img: 'https://via.placeholder.com/220x180?text=Donate+1000'}
  ];

  const defaultFarm = [
    {name: 'KITSUNE', price: '650', img: 'https://via.placeholder.com/220x180?text=KITSUNE'},
    {name: 'RACCOON', price: '299', img: 'https://via.placeholder.com/220x180?text=RACCOON'},
    {name: 'DISCO BEE', price: '230', img: 'https://via.placeholder.com/220x180?text=DISCO+BEE'},
    {name: 'BUTTERFLY', price: '200', img: 'https://via.placeholder.com/220x180?text=BUTTERFLY'},
    {name: 'FENNEC FOX', price: '200', img: 'https://via.placeholder.com/220x180?text=FENNEC+FOX'},
    {name: 'SPINOSAURUS', price: '90', img: 'https://via.placeholder.com/220x180?text=SPINOSAURUS'},
    {name: 'GRIFFIN', price: '40', img: 'https://via.placeholder.com/220x180?text=GRIFFIN'},
    {name: 'MIMIC OCTOPUS', price: '80', img: 'https://via.placeholder.com/220x180?text=MIMIC+OCTOPUS'},
    {name: 'DRAGONFLY', price: '90', img: 'https://via.placeholder.com/220x180?text=DRAGONFLY'},
    {name: 'T-REX', price: '90', img: 'https://via.placeholder.com/220x180?text=T-REX'},
    {name: 'GOLDEN GOOSE', price: '50', img: 'https://via.placeholder.com/220x180?text=GOLDEN+GOOSE'},
    {name: 'QUEEN BEE', price: '90', img: 'https://via.placeholder.com/220x180?text=QUEEN+BEE'},
    {name: 'CHICKEN ZOMBIE', price: '70', img: 'https://via.placeholder.com/220x180?text=CHICKEN+ZOMBIE'},
    {name: 'RED FOX', price: '30', img: 'https://via.placeholder.com/220x180?text=RED+FOX'}
  ];

  const defaultHeist = [
    {name: 'Chillin Chili', price: '500', img: 'https://via.placeholder.com/220x180?text=Chillin+Chili'},
    {name: 'Esok Sekola', price: '300', img: 'https://via.placeholder.com/220x180?text=Esok+Sekola'},
    {name: 'La Grande Combinasion', price: '150', img: 'https://via.placeholder.com/220x180?text=La+Grande+Combinasion'},
    {name: 'Eviledon', price: '550', img: 'https://via.placeholder.com/220x180?text=Eviledon'},
    {name: 'Ketupat Kepat', price: '600', img: 'https://via.placeholder.com/220x180?text=Ketupat+Kepat'}
  ];

  return {
    robux: JSON.parse(localStorage.getItem('admin_robux')) || defaultRobux,
    farm: JSON.parse(localStorage.getItem('admin_farm')) || defaultFarm,
    heist: JSON.parse(localStorage.getItem('admin_heist')) || defaultHeist
  };
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function renderAdminProducts() {
  const products = loadProducts();
  
  renderProductGrid('robux-grid', products.robux, 'robux');
  renderProductGrid('farm-grid', products.farm, 'farm');
  renderProductGrid('heist-grid', products.heist, 'heist');
}

function renderProductGrid(gridId, products, category) {
  const grid = document.getElementById(gridId);
  grid.innerHTML = '';
  
  products.forEach((product, index) => {
    const card = document.createElement('div');
    card.className = 'product-card';
    card.innerHTML = `
      <h3>${product.name}</h3>
      <img src="${product.img}" alt="${product.name}" id="${category}-img-${index}">
      <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
      <input type="text" value="${product.name}" id="${category}-name-${index}">
      <label>Ø§Ù„Ø³Ø¹Ø± (Ø¬Ù†ÙŠÙ‡):</label>
      <input type="number" value="${product.price}" id="${category}-price-${index}">
      <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©:</label>
      <input type="url" value="${product.img}" id="${category}-imgurl-${index}" 
             onchange="updateImagePreview('${category}', ${index})">
      <button class="delete-btn" onclick="deleteProduct('${category}', ${index})">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬</button>
    `;
    grid.appendChild(card);
  });
}

function updateImagePreview(category, index) {
  const url = document.getElementById(`${category}-imgurl-${index}`).value;
  document.getElementById(`${category}-img-${index}`).src = url;
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
function addNewProduct(category) {
  const products = loadProducts();
  const categoryMap = {
    'robux': products.robux,
    'farm': products.farm,
    'heist': products.heist
  };
  
  const newProduct = {
    name: 'Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯',
    price: '0',
    img: 'https://via.placeholder.com/220x180?text=New+Product'
  };
  
  categoryMap[category].push(newProduct);
  
  // Ø­ÙØ¸ ÙÙŠ localStorage
  localStorage.setItem(`admin_${category}`, JSON.stringify(categoryMap[category]));
  
  // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  renderAdminProducts();
  
  alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯! Ù‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡ Ø«Ù… Ø§Ø¶ØºØ· "Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"');
}

// Ø­Ø°Ù Ù…Ù†ØªØ¬
function deleteProduct(category, index) {
  if (!confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
    return;
  }
  
  const products = loadProducts();
  const categoryMap = {
    'robux': products.robux,
    'farm': products.farm,
    'heist': products.heist
  };
  
  categoryMap[category].splice(index, 1);
  
  // Ø­ÙØ¸ ÙÙŠ localStorage
  localStorage.setItem(`admin_${category}`, JSON.stringify(categoryMap[category]));
  
  // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  renderAdminProducts();
  
  alert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!');
}

// Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
function saveAll() {
  const products = loadProducts();
  
  // Ø­ÙØ¸ Robux
  products.robux.forEach((product, index) => {
    product.name = document.getElementById(`robux-name-${index}`).value;
    product.price = document.getElementById(`robux-price-${index}`).value;
    product.img = document.getElementById(`robux-imgurl-${index}`).value;
  });
  
  // Ø­ÙØ¸ Farm
  products.farm.forEach((product, index) => {
    product.name = document.getElementById(`farm-name-${index}`).value;
    product.price = document.getElementById(`farm-price-${index}`).value;
    product.img = document.getElementById(`farm-imgurl-${index}`).value;
  });
  
  // Ø­ÙØ¸ Heist
  products.heist.forEach((product, index) => {
    product.name = document.getElementById(`heist-name-${index}`).value;
    product.price = document.getElementById(`heist-price-${index}`).value;
    product.img = document.getElementById(`heist-imgurl-${index}`).value;
  });
  
  localStorage.setItem('admin_robux', JSON.stringify(products.robux));
  localStorage.setItem('admin_farm', JSON.stringify(products.farm));
  localStorage.setItem('admin_heist', JSON.stringify(products.heist));
  
  alert('âœ… ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
}

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
function logout() {
  localStorage.removeItem('admin_logged_in');
  localStorage.removeItem('current_admin_user');
  location.reload();
}

// Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
function switchTab(tab) {
  document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
  
  event.target.classList.add('active');
  document.getElementById(`${tab}-tab`).classList.add('active');
  
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  if (tab === 'orders') {
    loadOrders();
  }
}

// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
let currentFilter = 'all';

function loadOrders() {
  const orders = JSON.parse(localStorage.getItem('orders') || '[]');
  const container = document.getElementById('orders-container');
  const totalCount = document.getElementById('total-orders');
  
  // Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
  const pendingCount = orders.filter(o => o.status === 'pending').length;
  totalCount.textContent = pendingCount;
  
  // ÙÙ„ØªØ±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  let filteredOrders = orders;
  if (currentFilter !== 'all') {
    filteredOrders = orders.filter(o => o.status === currentFilter);
  }
  
  // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹)
  filteredOrders.sort((a, b) => new Date(b.date) - new Date(a.date));
  
  if (filteredOrders.length === 0) {
    container.innerHTML = '<div class="info-box" style="text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</div>';
    return;
  }
  
  container.innerHTML = '';
  
  filteredOrders.forEach(order => {
    const orderCard = document.createElement('div');
    orderCard.className = `order-card ${order.status}`;
    
    const statusText = {
      'pending': 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
      'completed': 'Ù…ÙƒØªÙ…Ù„',
      'archived': 'Ù…Ø¤Ø±Ø´Ù'
    };
    
    const date = new Date(order.date).toLocaleString('ar-EG');
    
    const itemsList = order.items.map((item, i) => 
      `<p>${i + 1}. ${item.name} - ${item.price}</p>`
    ).join('');
    
    orderCard.innerHTML = `
      <div class="order-header">
        <h3>Ø·Ù„Ø¨ #${order.id}</h3>
        <span class="order-status ${order.status}">${statusText[order.status]}</span>
      </div>
      
      <div class="order-info">
        <p><strong>ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„:</strong> ${order.customerName}</p>
        <p><strong>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${order.customerPhone}</p>
        <p><strong>â° Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${date}</p>
      </div>
      
      <div class="order-items">
        <p style="color: #667eea; font-weight: bold; margin-bottom: 10px;">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</p>
        ${itemsList}
        <p style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(100,200,255,0.1);">
          <strong>ğŸ’µ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> ${order.total} Ø¬Ù†ÙŠÙ‡
        </p>
      </div>
      
      <div class="order-actions">
        ${order.status === 'pending' ? `
          <button class="complete-btn" onclick="markOrderComplete(${order.id})">
            âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
          </button>
        ` : ''}
        ${order.status === 'completed' ? `
          <button class="archive-btn" onclick="archiveOrder(${order.id})">
            ğŸ“ Ø£Ø±Ø´ÙØ© Ø§Ù„Ø·Ù„Ø¨
          </button>
        ` : ''}
        ${order.status === 'archived' ? `
          <button class="delete-btn" onclick="deleteOrder(${order.id})">
            ğŸ—‘ï¸ Ø­Ø°Ù Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹
          </button>
        ` : ''}
      </div>
    `;
    
    container.appendChild(orderCard);
  });
}

function filterOrders(filter) {
  currentFilter = filter;
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
  
  loadOrders();
}

function markOrderComplete(orderId) {
  const orders = JSON.parse(localStorage.getItem('orders') || '[]');
  const order = orders.find(o => o.id === orderId);
  
  if (order) {
    order.status = 'completed';
    localStorage.setItem('orders', JSON.stringify(orders));
    loadOrders();
    alert('âœ… ØªÙ… ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨ ÙƒÙ…ÙƒØªÙ…Ù„!');
  }
}

function archiveOrder(orderId) {
  const orders = JSON.parse(localStorage.getItem('orders') || '[]');
  const order = orders.find(o => o.id === orderId);
  
  if (order) {
    order.status = 'archived';
    localStorage.setItem('orders', JSON.stringify(orders));
    loadOrders();
    alert('ğŸ“ ØªÙ… Ø£Ø±Ø´ÙØ© Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!');
  }
}

function deleteOrder(orderId) {
  if (!confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ')) {
    return;
  }
  
  let orders = JSON.parse(localStorage.getItem('orders') || '[]');
  orders = orders.filter(o => o.id !== orderId);
  localStorage.setItem('orders', JSON.stringify(orders));
  loadOrders();
  alert('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹!');
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.onload = function() {
  if (localStorage.getItem('admin_logged_in') === 'true' && getCurrentUser()) {
    document.getElementById('login-screen').style.display = 'none';
    document.getElementById('admin-panel').style.display = 'block';
    renderAdminProducts();
    updateHeader();
    loadOrders(); // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
  }
  
  // Enter key Ù„Ù„Ù†Ù…Ø§Ø°Ø¬
  document.getElementById('login-password').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') login();
  });
  
  document.getElementById('signup-password-confirm').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') signup();
  });
};
</script>

</body>
</html>
