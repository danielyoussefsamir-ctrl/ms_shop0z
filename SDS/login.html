<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ù…ØªØ¬Ø± Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 50%, #16213e 100%);
    color: #e0e0e0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
  }

  /* Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
  .animated-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
  }

  .circle {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
    animation: float 20s infinite ease-in-out;
  }

  .circle:nth-child(1) {
    width: 300px;
    height: 300px;
    top: 10%;
    left: 10%;
    animation-delay: 0s;
  }

  .circle:nth-child(2) {
    width: 200px;
    height: 200px;
    bottom: 15%;
    right: 15%;
    animation-delay: 3s;
  }

  .circle:nth-child(3) {
    width: 150px;
    height: 150px;
    top: 50%;
    right: 10%;
    animation-delay: 6s;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0) translateX(0);
    }
    25% {
      transform: translateY(-30px) translateX(20px);
    }
    50% {
      transform: translateY(-60px) translateX(-20px);
    }
    75% {
      transform: translateY(-30px) translateX(10px);
    }
  }

  /* Login Container */
  .login-container {
    position: relative;
    z-index: 2;
    background: linear-gradient(145deg, rgba(30, 30, 46, 0.9), rgba(37, 37, 56, 0.9));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(100, 200, 255, 0.2);
    border-radius: 20px;
    padding: 50px 40px;
    width: 90%;
    max-width: 450px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  }

  .logo {
    text-align: center;
    font-size: 60px;
    font-weight: bold;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 10px;
    text-shadow: 0 0 30px rgba(102, 126, 234, 0.3);
  }

  h2 {
    text-align: center;
    color: #fff;
    margin-bottom: 30px;
    font-size: 1.8em;
  }

  .welcome-text {
    text-align: center;
    color: #b0b0b0;
    margin-bottom: 30px;
    font-size: 0.95em;
  }

  /* Social Login Buttons */
  .social-login {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 30px;
  }

  .social-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 15px 20px;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .social-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }

  .social-btn:hover::before {
    left: 100%;
  }

  .google-btn {
    background: #fff;
    color: #333;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }

  .google-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }

  .facebook-btn {
    background: #1877f2;
    color: #fff;
    box-shadow: 0 5px 15px rgba(24, 119, 242, 0.3);
  }

  .facebook-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(24, 119, 242, 0.5);
    background: #166fe5;
  }

  .social-btn svg {
    width: 24px;
    height: 24px;
  }

  /* Divider */
  .divider {
    display: flex;
    align-items: center;
    margin: 30px 0;
    color: #888;
  }

  .divider::before,
  .divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(100, 200, 255, 0.3), transparent);
  }

  .divider span {
    padding: 0 15px;
    font-size: 0.9em;
  }

  /* Guest Button */
  .guest-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
  }

  .guest-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
  }

  /* Footer */
  .login-footer {
    text-align: center;
    margin-top: 30px;
    color: #888;
    font-size: 0.85em;
  }

  .login-footer a {
    color: #667eea;
    text-decoration: none;
    transition: color 0.3s;
  }

  .login-footer a:hover {
    color: #764ba2;
  }

  /* Loading Spinner */
  .spinner {
    display: none;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  .social-btn.loading .spinner {
    display: inline-block;
  }

  .social-btn.loading span {
    display: none;
  }

  /* Responsive */
  @media (max-width: 480px) {
    .login-container {
      padding: 40px 25px;
    }

    .logo {
      font-size: 48px;
    }

    h2 {
      font-size: 1.5em;
    }
  }
</style>
</head>
<body>

<div class="animated-bg">
  <div class="circle"></div>
  <div class="circle"></div>
  <div class="circle"></div>
</div>

<div class="login-container">
  <div class="logo">MS</div>
  <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ</h2>
  <p class="welcome-text">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙÙŠ Ø§Ù„ØªØ³ÙˆÙ‚</p>

  <div class="social-login">
    <!-- Google Login -->
    <button class="social-btn google-btn" id="google-login">
      <svg viewBox="0 0 24 24">
        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
      </svg>
      <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Google</span>
      <div class="spinner"></div>
    </button>

    <!-- Facebook Login -->
    <button class="social-btn facebook-btn" id="facebook-login">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
      </svg>
      <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Facebook</span>
      <div class="spinner"></div>
    </button>
  </div>

  <div class="divider">
    <span>Ø£Ùˆ</span>
  </div>

  <button class="guest-btn" id="guest-login">
    Ù…ØªØ§Ø¨Ø¹Ø© ÙƒØ²Ø§Ø¦Ø±
  </button>

  <div class="login-footer">
    Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</a> Ùˆ <a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
  </div>
</div>

<script type="module">
// Firebase Configuration (Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù…Ù† Firebase Console)
// Ù„Ù„ØªÙØ¹ÙŠÙ„: Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª ÙÙŠ FIREBASE_SETUP.md
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};

// ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Firebase Config
const isFirebaseConfigured = () => {
  return firebaseConfig.apiKey !== "YOUR_API_KEY" && 
         firebaseConfig.projectId !== "YOUR_PROJECT_ID";
};

// ØªØ­Ù…ÙŠÙ„ Firebase Ù…Ù† CDN
const loadFirebase = async () => {
  // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ FirebaseØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
  if (!isFirebaseConfigured()) {
    console.log('Firebase not configured. Running in demo mode.');
    return null;
  }

  try {
    // Import Firebase modules
    const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js');
    const { getAuth, signInWithPopup, GoogleAuthProvider, FacebookAuthProvider, signInAnonymously } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js');
    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    
    console.log('Firebase initialized successfully!');
    return { auth, signInWithPopup, GoogleAuthProvider, FacebookAuthProvider, signInAnonymously };
  } catch (error) {
    console.error('Firebase loading error:', error);
    alert('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Firebase.\n\nØ³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ.\n\nÙ„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©ØŒ Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª ÙÙŠ FIREBASE_SETUP.md');
    return null;
  }
};

// Helper Functions
function showLoading(button) {
  button.classList.add('loading');
  button.disabled = true;
}

function hideLoading(button) {
  button.classList.remove('loading');
  button.disabled = false;
}

function saveUserData(user) {
  const userData = {
    uid: user.uid || 'guest_' + Date.now(),
    displayName: user.displayName || 'Ø²Ø§Ø¦Ø±',
    email: user.email || '',
    photoURL: user.photoURL || '',
    provider: user.provider || 'guest',
    loginTime: new Date().toISOString()
  };
  localStorage.setItem('currentUser', JSON.stringify(userData));
  return userData;
}

function redirectToStore() {
  setTimeout(() => {
    window.location.href = 'index.html';
  }, 500);
}

// Google Login
document.getElementById('google-login').addEventListener('click', async (e) => {
  const button = e.currentTarget;
  showLoading(button);
  
  const firebase = await loadFirebase();
  
  if (firebase) {
    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Firebase
    try {
      const { auth, signInWithPopup, GoogleAuthProvider } = firebase;
      const provider = new GoogleAuthProvider();
      const result = await signInWithPopup(auth, provider);
      const user = result.user;
      
      saveUserData({
        uid: user.uid,
        displayName: user.displayName,
        email: user.email,
        photoURL: user.photoURL,
        provider: 'google'
      });
      
      alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ ' + user.displayName);
      redirectToStore();
    } catch (error) {
      hideLoading(button);
      console.error('Google login error:', error);
      alert('âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Google\n\n' + error.message);
    }
  } else {
    // Fallback: Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ (ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ)
    setTimeout(() => {
      hideLoading(button);
      const userName = prompt('ğŸ§ª Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ\n\nØ£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©:', 'Ù…Ø³ØªØ®Ø¯Ù… Google');
      if (!userName) return;
      
      const mockUser = {
        uid: 'google_' + Date.now(),
        displayName: userName,
        email: userName.toLowerCase().replace(/\s/g, '') + '@gmail.com',
        photoURL: '',
        provider: 'google'
      };
      saveUserData(mockUser);
      alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ ' + userName + '\n\nğŸ’¡ Ù‡Ø°Ø§ ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ. Ù„ØªÙØ¹ÙŠÙ„ Google Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø±Ø§Ø¬Ø¹ FIREBASE_SETUP.md');
      redirectToStore();
    }, 800);
  }
});

// Facebook Login
document.getElementById('facebook-login').addEventListener('click', async (e) => {
  const button = e.currentTarget;
  showLoading(button);
  
  const firebase = await loadFirebase();
  
  if (firebase) {
    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Firebase
    try {
      const { auth, signInWithPopup, FacebookAuthProvider } = firebase;
      const provider = new FacebookAuthProvider();
      const result = await signInWithPopup(auth, provider);
      const user = result.user;
      
      saveUserData({
        uid: user.uid,
        displayName: user.displayName,
        email: user.email,
        photoURL: user.photoURL,
        provider: 'facebook'
      });
      
      alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ ' + user.displayName);
      redirectToStore();
    } catch (error) {
      hideLoading(button);
      console.error('Facebook login error:', error);
      alert('âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Facebook\n\n' + error.message);
    }
  } else {
    // Fallback: Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ (ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ)
    setTimeout(() => {
      hideLoading(button);
      const userName = prompt('ğŸ§ª Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ\n\nØ£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©:', 'Ù…Ø³ØªØ®Ø¯Ù… Facebook');
      if (!userName) return;
      
      const mockUser = {
        uid: 'facebook_' + Date.now(),
        displayName: userName,
        email: userName.toLowerCase().replace(/\s/g, '') + '@facebook.com',
        photoURL: '',
        provider: 'facebook'
      };
      saveUserData(mockUser);
      alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ ' + userName + '\n\nğŸ’¡ Ù‡Ø°Ø§ ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ. Ù„ØªÙØ¹ÙŠÙ„ Facebook Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø±Ø§Ø¬Ø¹ FIREBASE_SETUP.md');
      redirectToStore();
    }, 800);
  }
});

// Guest Login
document.getElementById('guest-login').addEventListener('click', async () => {
  const guestUser = {
    uid: 'guest_' + Date.now(),
    displayName: 'Ø²Ø§Ø¦Ø±',
    email: '',
    photoURL: '',
    provider: 'guest'
  };
  saveUserData(guestUser);
  alert('âœ… ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒØ²Ø§Ø¦Ø±!\n\nÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù† ğŸ›’');
  redirectToStore();
});

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ù‡
const currentUser = localStorage.getItem('currentUser');
if (currentUser) {
  const user = JSON.parse(currentUser);
  if (confirm(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.displayName}!\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ù†ÙØ³ Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ`)) {
    redirectToStore();
  } else {
    localStorage.removeItem('currentUser');
  }
}
</script>

</body>
</html>
